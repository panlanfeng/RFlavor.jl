A = reshape(1:24, (4,3,2))
@test sweep(A, 1, 1:4)[:,:,1]==[0 4 8; 0 4 8; 0 4 8; 0 4 8]
@test sweep(A, 1, [5])[:,:,1]==[-4 0 4; -3 1 5; -2 2 6; -1 3 7]
Amin=mapslices(minimum, A, (2,3))
@test sweep(A, 1, Amin)[:,:,2]==[12 16 20; 12 16 20; 12 16 20; 12 16 20]

Amedian=mapslices(median, A, 3)
@test sweep(A, 1:2, Amedian)[:,:,1]==[-6.0 -6.0 -6.0; -6.0 -6.0 -6.0; -6.0 -6.0 -6.0; -6.0 -6.0 -6.0]

@test sweep(A, (1,2), Amedian)[:,:,1]==[-6.0 -6.0 -6.0; -6.0 -6.0 -6.0; -6.0 -6.0 -6.0; -6.0 -6.0 -6.0]
